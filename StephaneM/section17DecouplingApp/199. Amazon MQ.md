# ğŸŸ¦ Amazon MQ â€” ì™œ í•„ìš”í•˜ê³  ë­ í•˜ëŠ” ì„œë¹„ìŠ¤ì¸ê°€?

### âœ” ë¨¼ì € ë¬¸ì œ ìƒí™©ë¶€í„° ì´í•´í•˜ì

íšŒì‚¬ì— **ì˜¤ë˜ëœ(on-premises) ì‹œìŠ¤í…œ**ì´ ìˆê³  ì—¬ê¸°ì„œëŠ” ì•„ë˜ ê°™ì€ **ì˜¤í”ˆ í”„ë¡œí† ì½œ**ì„ ì‚¬ìš©í•œë‹¤ê³  í•´ë³´ì.

* MQTT
* AMQP
* STOMP
* Openwire
* WebSocket(WSS)

ì´ëŸ° ì‹œìŠ¤í…œì€ **SQS/SNSì²˜ëŸ¼ AWS ê³ ìœ  APIë¥¼ ëª» ì”€**.
ì¦‰, ê¸°ì¡´ ì‹œìŠ¤í…œì„ ê·¸ëŒ€ë¡œ í´ë¼ìš°ë“œë¡œ ì˜®ê¸°ë ¤ë©´ **ì½”ë“œë¥¼ ë‹¤ ëœ¯ì–´ê³ ì³ì•¼** í•˜ëŠ” ìƒí™©ì´ ìƒê¹€.

ğŸ‘‰ ì´ëŸ° â€œí”„ë¡œí† ì½œ í˜¸í™˜ì„± ë¬¸ì œâ€ë¥¼ í•´ê²°í•´ì£¼ëŠ” ê²Œ **Amazon MQ**ì„.

---

# ğŸŸ© Amazon MQë€?

ğŸ‘‰ **RabbitMQ / ActiveMQë¥¼ AWSê°€ ëŒ€ì‹  ìš´ì˜í•´ì£¼ëŠ” ì„œë¹„ìŠ¤**

* RabbitMQ, ActiveMQ = ì˜¤ë˜ë¶€í„° ì“°ë˜ ì „í†µì  ë©”ì‹œì§€ ë¸Œë¡œì»¤
* MQëŠ” **ì˜¤í”ˆ í”„ë¡œí† ì½œ ì§€ì›**
  â†’ MQTT, AMQP, STOMP, OpenWire, WSS ë“± ì „ë¶€ ì‚¬ìš© ê°€ëŠ¥

ì¦‰,
**"ìš°ë¦¬ íšŒì‚¬ ê¸°ì¡´ ë©”ì‹œì§• ì‹œìŠ¤í…œì„ ê·¸ëŒ€ë¡œ AWSì—ì„œ ì“°ê³  ì‹¶ë‹¤"**
â†’ **Amazon MQê°€ ì •ë‹µ**

---

# ğŸŸ§ Amazon MQ vs SQS/SNS (ì‰½ê²Œ ë¹„êµ)

| ê¸°ëŠ¥    | SQS/SNS     | Amazon MQ                  |
| ----- | ----------- | -------------------------- |
| í”„ë¡œí† ì½œ  | AWS ì „ìš©      | MQTT, AMQP ë“± í‘œì¤€ ì˜¤í”ˆ í”„ë¡œí† ì½œ ì§€ì› |
| í™•ì¥ì„±   | ê±°ì˜ ë¬´í•œ ìë™ í™•ì¥ | ì œí•œì  (ì„œë²„ ê¸°ë°˜)                |
| ìš´ì˜ ë°©ì‹ | ì™„ì „ ì„œë²„ë¦¬ìŠ¤     | ë¸Œë¡œì»¤ ì„œë²„ê°€ ì¡´ì¬í•¨                |
| ì£¼ ìš©ë„  | í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ ì•± | ê¸°ì¡´ ë ˆê±°ì‹œ ì‹œìŠ¤í…œ í´ë¼ìš°ë“œ ì´ì „         |

â¡ **MQëŠ” í™•ì¥ì„±ì€ ë–¨ì–´ì§€ì§€ë§Œ, í˜¸í™˜ì„± ìµœê³ **

---

# ğŸŸª MQì—ëŠ” Queue + Topic ê¸°ëŠ¥ì´ ëª¨ë‘ ìˆìŒ

* Queue ê¸°ëŠ¥ â†’ SQS ê°™ì€ ì—­í• 
* Topic ê¸°ëŠ¥ â†’ SNS ê°™ì€ ì—­í• 
* ë‘˜ ë‹¤ í•˜ë‚˜ì˜ ë¸Œë¡œì»¤ ì•ˆì—ì„œ ê°€ëŠ¥

(ê¸°ì¡´ ActiveMQ/RabbitMQ ì“°ë˜ ë°©ì‹ ê·¸ëŒ€ë¡œ ìœ ì§€ ê°€ëŠ¥)

---

# ğŸŸ¥ Amazon MQì˜ ê³ ê°€ìš©ì„±(HA) êµ¬ì¡° â€” ì•„ì£¼ ì‰½ê³  ì •í™•í•˜ê²Œ

ë¬¸ì œ:
MQëŠ” ì„œë²„ê°€ ìˆì–´ì„œ **ì„œë²„ê°€ ì£½ìœ¼ë©´ ìœ„í—˜**í•¨.

AWSëŠ” ì´ê±¸ ì´ë ‡ê²Œ í•´ê²°í•¨:

### âœ” ë‘ ê°œì˜ AZì— ë¸Œë¡œì»¤ë¥¼ ë‘”ë‹¤

* AZ A â†’ Active ë¸Œë¡œì»¤
* AZ B â†’ Standby ë¸Œë¡œì»¤

### âœ” ë‘˜ ë‹¤ **ê°™ì€ EFSë¥¼ ë°ì´í„° ì €ì¥ì†Œë¡œ ê³µìœ **

ì™œ EFSì¸ê°€?

* EFSëŠ” ì—¬ëŸ¬ AZì—ì„œ ë™ì‹œì— ë¶™ì„ ìˆ˜ ìˆëŠ” ë„¤íŠ¸ì›Œí¬ íŒŒì¼ì‹œìŠ¤í…œ
* Activeê°€ ì£½ì–´ë„ Standbyê°€ ë°”ë¡œ ê°™ì€ ë°ì´í„°ë¥¼ ì´ì–´ë°›ì•„ ì‚¬ìš© ê°€ëŠ¥

ğŸ‘‰ ì´ êµ¬ì¡° ë•ë¶„ì—
**ë¸Œë¡œì»¤ ì¥ì•  = ì¦‰ì‹œ ìë™ Failover**
**ë°ì´í„° ì†ì‹¤ ì—†ìŒ**

---

# ğŸ¯ ê°€ì¥ ì¤‘ìš”í•œ í•µì‹¬ ìš”ì•½ (ê·¸ë¦¼ì²˜ëŸ¼ ì´í•´)

1. **ê¸°ì¡´ ì•±ì´ MQTT/AMQP ë“± ì“°ê³  ìˆìŒ**
2. **AWSë¡œ ì˜®ê¸°ê³  ì‹¶ì§€ë§Œ, ì½”ë“œ ìˆ˜ì •í•˜ê³  ì‹¶ì§€ ì•ŠìŒ**
3. **ê·¸ëŒ€ë¡œ RabbitMQ/ActiveMQ í”„ë¡œí† ì½œì„ ì“¸ ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ì„œë¹„ìŠ¤ â†’ Amazon MQ**
4. í™•ì¥ì„±ì€ SQS/SNSë³´ë‹¤ ë–¨ì–´ì§(ì„œë²„ ê¸°ë°˜)
5. ê³ ê°€ìš©ì„±ì€ **Multi-AZ + EFSë¡œ Failover**ë¡œ í™•ë³´

---

# Amazon MQ  
# ì•„ë§ˆì¡´ MQ  

---

## Introduction to Amazon MQ  
## Amazon MQ ì†Œê°œ  

Let us now discuss Amazon MQ.  
ì´ì œ Amazon MQì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.  

We are familiar with SQS and SNS, which are cloud-native services because they use proprietary AWS protocols and their own sets of APIs.  
ìš°ë¦¬ëŠ” SQSì™€ SNSì— ìµìˆ™í•œë°, ì´ë“¤ì€ ê³ ìœ í•œ AWS í”„ë¡œí† ì½œê³¼ APIë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.  

However, if you are running traditional applications on-premises, you may use open protocols such as MQTT, AMQP, STOMP, Openwire, and WSS.  
í•˜ì§€ë§Œ ê¸°ì¡´ ì˜¨í”„ë ˆë¯¸ìŠ¤ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìš´ì˜í•œë‹¤ë©´ MQTT, AMQP, STOMP, Openwire, WSSì™€ ê°™ì€ ì˜¤í”ˆ í”„ë¡œí† ì½œì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  

When migrating your application to the cloud, you might not want to re-engineer it to use SQS and SNS protocols or APIs.  
ì• í”Œë¦¬ì¼€ì´ì…˜ì„ í´ë¼ìš°ë“œë¡œ ì´ì „í•  ë•Œ, SQSì™€ SNS í”„ë¡œí† ì½œì´ë‚˜ APIë¥¼ ì‚¬ìš©í•˜ë„ë¡ ì¬ì„¤ê³„í•˜ê³  ì‹¶ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.  

Instead, you want to continue using the traditional protocols you are accustomed to, such as MQTT and AMQP.  
ëŒ€ì‹  ìµìˆ™í•œ ê¸°ì¡´ í”„ë¡œí† ì½œ(MQTT, AMQP ë“±)ì„ ê³„ì† ì‚¬ìš©í•˜ê³  ì‹¶ì„ ê²ƒì…ë‹ˆë‹¤.  

For this purpose, Amazon MQ is available.  
ì´ ëª©ì ì„ ìœ„í•´ Amazon MQê°€ ì œê³µë©ë‹ˆë‹¤.  

---

Amazon MQ is a managed message broker service for two technologies: RabbitMQ and ActiveMQ.  
Amazon MQëŠ” RabbitMQì™€ ActiveMQ ë‘ ê°€ì§€ ê¸°ìˆ ì„ ì§€ì›í•˜ëŠ” ê´€ë¦¬í˜• ë©”ì‹œì§€ ë¸Œë¡œì»¤ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.  

RabbitMQ and ActiveMQ are on-premises technologies that provide access to the open protocols mentioned earlier.  
RabbitMQì™€ ActiveMQëŠ” ì•ì„œ ì–¸ê¸‰í•œ ì˜¤í”ˆ í”„ë¡œí† ì½œì„ ì§€ì›í•˜ëŠ” ì˜¨í”„ë ˆë¯¸ìŠ¤ ê¸°ìˆ ì…ë‹ˆë‹¤.  

Amazon MQ offers a managed version of these brokers on the cloud.  
Amazon MQëŠ” í´ë¼ìš°ë“œì—ì„œ ì´ëŸ¬í•œ ë¸Œë¡œì»¤ì˜ ê´€ë¦¬í˜• ë²„ì „ì„ ì œê³µí•©ë‹ˆë‹¤.  

This has important implications. Firstly, Amazon MQ does not scale as much as SQS or SNS, which have virtually infinite scaling capabilities.  
ì´ê²ƒì€ ì¤‘ìš”í•œ ì˜ë¯¸ë¥¼ ê°€ì§‘ë‹ˆë‹¤. ìš°ì„ , Amazon MQëŠ” ì‚¬ì‹¤ìƒ ë¬´í•œ í™•ì¥ì´ ê°€ëŠ¥í•œ SQSë‚˜ SNSë§Œí¼ í™•ì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.  

Because Amazon MQ runs on servers, you may encounter server issues.  
Amazon MQëŠ” ì„œë²„ì—ì„œ ì‹¤í–‰ë˜ë¯€ë¡œ ì„œë²„ ê´€ë ¨ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  

To ensure high availability, you can run a multi-Availability Zone (multi-AZ) setup with failover.  
ê³ ê°€ìš©ì„±ì„ ìœ„í•´ ë‹¤ì¤‘ ê°€ìš© ì˜ì—­(Multi-AZ) êµ¬ì„±ê³¼ ì¥ì•  ì¡°ì¹˜(failover)ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  

Amazon MQ includes both queue features, similar to SQS, and topic features, similar to SNS, within a single broker.  
Amazon MQëŠ” í•˜ë‚˜ì˜ ë¸Œë¡œì»¤ ì•ˆì— SQSì™€ ìœ ì‚¬í•œ í ê¸°ëŠ¥ê³¼ SNSì™€ ìœ ì‚¬í•œ í† í”½ ê¸°ëŠ¥ì„ ëª¨ë‘ í¬í•¨í•©ë‹ˆë‹¤.  

---

## High Availability in Amazon MQ  
## Amazon MQì˜ ê³ ê°€ìš©ì„±  

Consider a region such as us-east-1 with two Availability Zones: us-east-1a and us-east-1b.  
ì˜ˆë¥¼ ë“¤ì–´ us-east-1 ë¦¬ì „ì—ëŠ” us-east-1aì™€ us-east-1b ë‘ ê°œì˜ ê°€ìš© ì˜ì—­ì´ ìˆë‹¤ê³  ê°€ì •í•©ë‹ˆë‹¤.  

One zone will be active, and the other will be standby.  
í•œ ì˜ì—­ì€ í™œì„±(active) ìƒíƒœì´ê³ , ë‹¤ë¥¸ ì˜ì—­ì€ ëŒ€ê¸°(standby) ìƒíƒœê°€ ë©ë‹ˆë‹¤.  

An Amazon MQ broker runs in both Availability Zones, where one is active and the other is standby.  
Amazon MQ ë¸Œë¡œì»¤ëŠ” ë‘ ê°€ìš© ì˜ì—­ ëª¨ë‘ì—ì„œ ì‹¤í–‰ë˜ë©°, í•œìª½ì€ í™œì„±, ë‹¤ë¥¸ ìª½ì€ ëŒ€ê¸° ìƒíƒœì…ë‹ˆë‹¤.  

For failover to function correctly, you need to define Amazon Elastic File System (EFS) as your backend storage.  
ì¥ì•  ì¡°ì¹˜(failover)ê°€ ì œëŒ€ë¡œ ì‘ë™í•˜ë ¤ë©´ Amazon Elastic File System(EFS)ì„ ë°±ì—”ë“œ ìŠ¤í† ë¦¬ì§€ë¡œ ì •ì˜í•´ì•¼ í•©ë‹ˆë‹¤.  

Amazon EFS is a network file system that can be mounted onto multiple Availability Zones.  
Amazon EFSëŠ” ì—¬ëŸ¬ ê°€ìš© ì˜ì—­ì— ë§ˆìš´íŠ¸í•  ìˆ˜ ìˆëŠ” ë„¤íŠ¸ì›Œí¬ íŒŒì¼ ì‹œìŠ¤í…œì…ë‹ˆë‹¤.  

When failover occurs, the standby broker is also mounted onto Amazon EFS, ensuring it has the same data as the active queue.  
ì¥ì•  ì¡°ì¹˜ê°€ ë°œìƒí•˜ë©´ ëŒ€ê¸° ë¸Œë¡œì»¤ë„ Amazon EFSì— ë§ˆìš´íŠ¸ë˜ì–´ í™œì„± íì™€ ë™ì¼í•œ ë°ì´í„°ë¥¼ ê°–ê²Œ ë©ë‹ˆë‹¤.  

This setup allows failover to happen correctly, preserving data integrity.  
ì´ êµ¬ì„±ì€ ì¥ì•  ì¡°ì¹˜ê°€ ì˜¬ë°”ë¥´ê²Œ ì‘ë™í•˜ë„ë¡ í•˜ì—¬ ë°ì´í„° ë¬´ê²°ì„±ì„ ë³´ì¥í•©ë‹ˆë‹¤.  

If your client communicates with the Amazon MQ broker and a failover occurs, the data remains safe thanks to Amazon EFS.  
í´ë¼ì´ì–¸íŠ¸ê°€ Amazon MQ ë¸Œë¡œì»¤ì™€ í†µì‹  ì¤‘ ì¥ì•  ì¡°ì¹˜ê°€ ë°œìƒí•´ë„, Amazon EFS ë•ë¶„ì— ë°ì´í„°ëŠ” ì•ˆì „í•˜ê²Œ ìœ ì§€ë©ë‹ˆë‹¤.  

That concludes the key points to remember about Amazon MQ for the exam.  
ì´ë¡œì¨ ì‹œí—˜ ëŒ€ë¹„ Amazon MQì˜ í•µì‹¬ í¬ì¸íŠ¸ê°€ ë§ˆë¬´ë¦¬ë©ë‹ˆë‹¤.  

---

## Key Takeaways  
## í•µì‹¬ ìš”ì•½  

- Amazon MQ is a managed message broker service supporting RabbitMQ and ActiveMQ, enabling the use of traditional open protocols in the cloud.  
- Amazon MQëŠ” RabbitMQì™€ ActiveMQë¥¼ ì§€ì›í•˜ëŠ” ê´€ë¦¬í˜• ë©”ì‹œì§€ ë¸Œë¡œì»¤ ì„œë¹„ìŠ¤ë¡œ, í´ë¼ìš°ë“œì—ì„œ ê¸°ì¡´ ì˜¤í”ˆ í”„ë¡œí† ì½œì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  

- It supports protocols like MQTT, AMQP, STOMP, Openwire, and WSS, facilitating migration of on-premises applications without re-engineering.  
- MQTT, AMQP, STOMP, Openwire, WSS ë“±ì˜ í”„ë¡œí† ì½œì„ ì§€ì›í•˜ì—¬, ì˜¨í”„ë ˆë¯¸ìŠ¤ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì¬ì„¤ê³„ ì—†ì´ í´ë¼ìš°ë“œë¡œ ì´ì „í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  

- Amazon MQ provides both queue and topic features within a single broker, similar to SQS and SNS respectively.  
- Amazon MQëŠ” í•˜ë‚˜ì˜ ë¸Œë¡œì»¤ ì•ˆì—ì„œ í ê¸°ëŠ¥(SQS ìœ ì‚¬)ê³¼ í† í”½ ê¸°ëŠ¥(SNS ìœ ì‚¬)ì„ ëª¨ë‘ ì œê³µí•©ë‹ˆë‹¤.  

- High availability is achieved through multi-AZ deployment with failover using Amazon EFS as backend storage to synchronize data between active and standby brokers.  
- ê³ ê°€ìš©ì„±ì€ ë‹¤ì¤‘ ê°€ìš© ì˜ì—­(Multi-AZ) ë°°í¬ì™€ Amazon EFSë¥¼ ë°±ì—”ë“œ ìŠ¤í† ë¦¬ì§€ë¡œ ì‚¬ìš©í•˜ëŠ” ì¥ì•  ì¡°ì¹˜ë¥¼ í†µí•´ í™œì„± ë¸Œë¡œì»¤ì™€ ëŒ€ê¸° ë¸Œë¡œì»¤ ê°„ ë°ì´í„°ë¥¼ ë™ê¸°í™”í•˜ì—¬ êµ¬í˜„ë©ë‹ˆë‹¤.

---

A **message broker** is an intermediary software that facilitates communication between different applications or services.
**ë©”ì‹œì§€ ë¸Œë¡œì»¤**ëŠ” ì„œë¡œ ë‹¤ë¥¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ë‚˜ ì„œë¹„ìŠ¤ ê°„ì˜ í†µì‹ ì„ ìš©ì´í•˜ê²Œ í•´ì£¼ëŠ” ì¤‘ê°œ ì†Œí”„íŠ¸ì›¨ì–´ì…ë‹ˆë‹¤.

It allows producers to send messages without needing to know the details of the consumers.
ë©”ì‹œì§€ ë¸Œë¡œì»¤ëŠ” ìƒì‚°ìê°€ ì†Œë¹„ìì˜ ì„¸ë¶€ ì‚¬í•­ì„ ì•Œ í•„ìš” ì—†ì´ ë©”ì‹œì§€ë¥¼ ì „ì†¡í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.

Consumers can receive messages without needing to know the details of the producers.
ì†Œë¹„ìëŠ” ìƒì‚°ìì˜ ì„¸ë¶€ ì •ë³´ë¥¼ ì•Œ í•„ìš” ì—†ì´ ë©”ì‹œì§€ë¥¼ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

Message brokers support asynchronous communication, meaning producers and consumers do not need to interact at the same time.
ë©”ì‹œì§€ ë¸Œë¡œì»¤ëŠ” ë¹„ë™ê¸° í†µì‹ ì„ ì§€ì›í•©ë‹ˆë‹¤. ì¦‰, ìƒì‚°ìì™€ ì†Œë¹„ìê°€ ë™ì‹œì— ìƒí˜¸ì‘ìš©í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.

They often provide features like message queuing, routing, filtering, and transformation.
ë©”ì‹œì§€ ë¸Œë¡œì»¤ëŠ” ì¢…ì¢… ë©”ì‹œì§€ íì‰, ë¼ìš°íŒ…, í•„í„°ë§, ë³€í™˜ê³¼ ê°™ì€ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.

Some common message broker technologies include RabbitMQ, ActiveMQ, and Amazon MQ.
ì¼ë°˜ì ì¸ ë©”ì‹œì§€ ë¸Œë¡œì»¤ ê¸°ìˆ ë¡œëŠ” RabbitMQ, ActiveMQ, Amazon MQ ë“±ì´ ìˆìŠµë‹ˆë‹¤.

Message brokers are useful for decoupling applications, improving scalability, and ensuring reliable delivery of messages.
ë©”ì‹œì§€ ë¸Œë¡œì»¤ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë¶„ë¦¬í•˜ê³ , í™•ì¥ì„±ì„ ë†’ì´ë©°, ë©”ì‹œì§€ì˜ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì „ë‹¬ì„ ë³´ì¥í•˜ëŠ” ë° ìœ ìš©í•©ë‹ˆë‹¤.


