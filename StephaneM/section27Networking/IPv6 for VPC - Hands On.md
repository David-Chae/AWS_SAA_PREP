```markdown
# IPv6 for VPC - Hands On  
# VPCìš© IPv6 - ì‹¤ìŠµ  

ğŸ® ê²Œì„ë³´ìƒ: "IPv6 Hands-On Badge" +600 XP  

---

## Enabling IPv6 in a VPC  
## VPCì—ì„œ IPv6 í™œì„±í™”  

We are going to practice with IPv6.  
ì´ì œ IPv6ë¥¼ í™œìš©í•œ ì‹¤ìŠµì„ ì§„í–‰í•´ë´…ì‹œë‹¤.  

We have our VPC here, specifically our demo VPC.  
ì—¬ê¸°ì—ëŠ” ìš°ë¦¬ VPCê°€ ìˆìœ¼ë©°, íŠ¹íˆ ë°ëª¨ìš© VPCì…ë‹ˆë‹¤.  

To enable IPv6 support, we need to add an IPv6 CIDR range.  
IPv6 ì§€ì›ì„ í™œì„±í™”í•˜ë ¤ë©´ IPv6 CIDR ë²”ìœ„ë¥¼ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤.  

To do this, right-click on the VPC and select "Edit CIDRs." Then, add a new IPv6 CIDR range.  
VPCì—ì„œ ë§ˆìš°ìŠ¤ ì˜¤ë¥¸ìª½ ë²„íŠ¼ì„ í´ë¦­í•˜ê³  "Edit CIDRs"ë¥¼ ì„ íƒí•œ í›„, ìƒˆë¡œìš´ IPv6 CIDR ë²”ìœ„ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.  

You can either use an Amazon-provided CIDR block or provide your own CIDR.  
Amazonì—ì„œ ì œê³µí•˜ëŠ” CIDR ë¸”ë¡ì„ ì‚¬ìš©í•˜ê±°ë‚˜ ì§ì ‘ CIDRì„ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  

In this case, we will use one generated by AWS.  
ì´ë²ˆ ì˜ˆì œì—ì„œëŠ” AWSê°€ ìƒì„±í•œ CIDRì„ ì‚¬ìš©í•©ë‹ˆë‹¤.  

The CIDR is advertised as a group of eu-central-1.  
CIDRì€ eu-central-1 ë¦¬ì „ ê·¸ë£¹ìœ¼ë¡œ ê´‘ê³ ë©ë‹ˆë‹¤.  

Select the CIDR, and it will be associated with your VPC.  
CIDRì„ ì„ íƒí•˜ë©´ í•´ë‹¹ VPCì— ì—°ê²°ë©ë‹ˆë‹¤.  

Here is the assigned IPv6 CIDR.  
ì—¬ê¸° í• ë‹¹ëœ IPv6 CIDRì´ ìˆìŠµë‹ˆë‹¤.  

---

## Assigning IPv6 CIDRs to Subnets  
## ì„œë¸Œë„·ì— IPv6 CIDR í• ë‹¹  

Next, navigate to your subnets.  
ë‹¤ìŒìœ¼ë¡œ, ì„œë¸Œë„·ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.  

Select your public subnet A, then choose "Actions" and "Edit IPv6 CIDRs."  
í¼ë¸”ë¦­ ì„œë¸Œë„· Aë¥¼ ì„ íƒí•œ í›„ "Actions" â†’ "Edit IPv6 CIDRs"ë¥¼ ì„ íƒí•©ë‹ˆë‹¤.  

You need to assign an IPv6 CIDR to your subnet.  
ì„œë¸Œë„·ì— IPv6 CIDRì„ í• ë‹¹í•´ì•¼ í•©ë‹ˆë‹¤.  

For simplicity, assign the value 00 and click "Save."  
ê°„ë‹¨í•˜ê²Œ 00 ê°’ì„ í• ë‹¹í•˜ê³  "Save"ë¥¼ í´ë¦­í•©ë‹ˆë‹¤.  

Now, your subnet has an IPv6 CIDR assigned.  
ì´ì œ ì„œë¸Œë„·ì— IPv6 CIDRì´ í• ë‹¹ë˜ì—ˆìŠµë‹ˆë‹¤.  

You can also edit subnet settings to allow auto-assigning IPv6 addresses.  
ì„œë¸Œë„· ì„¤ì •ì„ í¸ì§‘í•˜ì—¬ IPv6 ì£¼ì†Œ ìë™ í• ë‹¹ì„ í™œì„±í™”í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.  

For demonstration, enable this setting for one subnet.  
ì‹¤ìŠµì„ ìœ„í•´ í•˜ë‚˜ì˜ ì„œë¸Œë„·ì—ì„œ ì´ ì„¤ì •ì„ í™œì„±í™”í•©ë‹ˆë‹¤.  

You can enable it for all subnets as needed.  
í•„ìš”ì— ë”°ë¼ ëª¨ë“  ì„œë¸Œë„·ì—ì„œ í™œì„±í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  

This allows IPv6 addresses to be automatically assigned to instances within these subnets.  
ì´ë ‡ê²Œ í•˜ë©´ í•´ë‹¹ ì„œë¸Œë„· ë‚´ ì¸ìŠ¤í„´ìŠ¤ì— IPv6 ì£¼ì†Œê°€ ìë™ìœ¼ë¡œ í• ë‹¹ë©ë‹ˆë‹¤.  

---

## Assigning IPv6 Addresses to EC2 Instances  
## EC2 ì¸ìŠ¤í„´ìŠ¤ì— IPv6 ì£¼ì†Œ í• ë‹¹  

Go to your EC2 instances.  
EC2 ì¸ìŠ¤í„´ìŠ¤ë¡œ ì´ë™í•©ë‹ˆë‹¤.  

Right-click on an instance, navigate to "Networking," and select "Manage IP Addresses."  
ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì˜¤ë¥¸ìª½ í´ë¦­í•˜ê³  "Networking" â†’ "Manage IP Addresses"ë¥¼ ì„ íƒí•©ë‹ˆë‹¤.  

Currently, the interface eth0 does not have an IPv6 address.  
í˜„ì¬ eth0 ì¸í„°í˜ì´ìŠ¤ì—ëŠ” IPv6 ì£¼ì†Œê°€ ì—†ìŠµë‹ˆë‹¤.  

You can assign a new IPv6 address, which will be auto-assigned.  
ìƒˆ IPv6 ì£¼ì†Œë¥¼ í• ë‹¹í•  ìˆ˜ ìˆìœ¼ë©°, ìë™ìœ¼ë¡œ í• ë‹¹ë©ë‹ˆë‹¤.  

Click "Save" and confirm.  
"Save"ë¥¼ í´ë¦­í•˜ê³  í™•ì¸í•©ë‹ˆë‹¤.  

After assignment, your instance, such as the BastionHost, will have an IPv6 address.  
í• ë‹¹ í›„, BastionHostì™€ ê°™ì€ ì¸ìŠ¤í„´ìŠ¤ëŠ” IPv6 ì£¼ì†Œë¥¼ ê°–ê²Œ ë©ë‹ˆë‹¤.  

If your machine has an IPv6 address and you update the security group of this instance to allow IPv6 traffic, you can connect to the instance using its IPv6 address.  
ì¸ìŠ¤í„´ìŠ¤ì— IPv6 ì£¼ì†Œê°€ ìˆê³ , ë³´ì•ˆ ê·¸ë£¹ì—ì„œ IPv6 íŠ¸ë˜í”½ì„ í—ˆìš©í•˜ë„ë¡ ì—…ë°ì´íŠ¸í•˜ë©´ IPv6 ì£¼ì†Œë¡œ ì¸ìŠ¤í„´ìŠ¤ì— ì ‘ì†í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  

---

## Configuring Security Groups for IPv6  
## IPv6ìš© ë³´ì•ˆ ê·¸ë£¹ êµ¬ì„±  

Edit the inbound rules of the security group associated with your instance.  
ì¸ìŠ¤í„´ìŠ¤ì™€ ì—°ê²°ëœ ë³´ì•ˆ ê·¸ë£¹ì˜ ì¸ë°”ìš´ë“œ ê·œì¹™ì„ í¸ì§‘í•©ë‹ˆë‹¤.  

Add an SSH rule that allows connections from anywhere using IPv6.  
IPv6ë¥¼ ì‚¬ìš©í•˜ì—¬ ëª¨ë“  ê³³ì—ì„œ ì ‘ì†í•  ìˆ˜ ìˆë„ë¡ SSH ê·œì¹™ì„ ì¶”ê°€í•©ë‹ˆë‹¤.  

This complements the existing IPv4 rule that allows connections from 0.0.0.0/0.  
ì´ëŠ” ê¸°ì¡´ IPv4 ê·œì¹™(0.0.0.0/0 í—ˆìš©)ì„ ë³´ì™„í•©ë‹ˆë‹¤.  

This setup enables SSH access over IPv6.  
ì´ ì„¤ì •ìœ¼ë¡œ IPv6ë¥¼ í†µí•œ SSH ì ‘ì†ì´ ê°€ëŠ¥í•´ì§‘ë‹ˆë‹¤.  

With this configuration, you can SSH into your BastionHost directly using its IPv6 address, provided your computer has IPv6 connectivity.  
ì´ êµ¬ì„±ìœ¼ë¡œ, ì»´í“¨í„°ê°€ IPv6 ì—°ê²°ì„ ì§€ì›í•˜ë©´ BastionHostì— IPv6 ì£¼ì†Œë¡œ ì§ì ‘ SSH ì ‘ì†í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  

Note that IPv6 addresses are not yet common among all internet providers.  
ì°¸ê³ ë¡œ, ëª¨ë“  ì¸í„°ë„· ì œê³µì—…ì²´ì—ì„œ IPv6ê°€ ì¼ë°˜ì ì¸ ê²ƒì€ ì•„ë‹™ë‹ˆë‹¤.  

---

## Verifying IPv6 Connectivity  
## IPv6 ì—°ê²° í™•ì¸  

There is a website called Test-IPv6 that runs tests to check if you have IPv6 connectivity.  
Test-IPv6ë¼ëŠ” ì‚¬ì´íŠ¸ê°€ ìˆìœ¼ë©°, ì—¬ê¸°ì„œ IPv6 ì—°ê²° ì—¬ë¶€ë¥¼ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  

If you have an IPv6 address, it will be displayed on the site, and you can access your EC2 instance via IPv6.  
IPv6 ì£¼ì†Œê°€ ìˆìœ¼ë©´ ì‚¬ì´íŠ¸ì— í‘œì‹œë˜ë©°, ì´ë¥¼ í†µí•´ EC2 ì¸ìŠ¤í„´ìŠ¤ì— IPv6ë¡œ ì ‘ì†í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  

If you do not have IPv6, you will need to wait for your internet provider to upgrade to IPv6.  
IPv6ê°€ ì—†ë‹¤ë©´, ì¸í„°ë„· ì œê³µì—…ì²´ê°€ IPv6ë¡œ ì—…ê·¸ë ˆì´ë“œí•  ë•Œê¹Œì§€ ê¸°ë‹¤ë ¤ì•¼ í•©ë‹ˆë‹¤.  

---

## IPv6 Route Table Configuration  
## IPv6 ë¼ìš°íŠ¸ í…Œì´ë¸” êµ¬ì„±  

Finally, let's look at the route tables.  
ë§ˆì§€ë§‰ìœ¼ë¡œ ë¼ìš°íŠ¸ í…Œì´ë¸”ì„ ì‚´í´ë´…ì‹œë‹¤.  

For example, in the public route table, there is a rule added that routes any traffic with the IPv6 CIDR to "local."  
ì˜ˆë¥¼ ë“¤ì–´, í¼ë¸”ë¦­ ë¼ìš°íŠ¸ í…Œì´ë¸”ì—ëŠ” IPv6 CIDRì˜ ëª¨ë“  íŠ¸ë˜í”½ì„ "local"ë¡œ ë¼ìš°íŒ…í•˜ëŠ” ê·œì¹™ì´ ì¶”ê°€ë˜ì–´ ìˆìŠµë‹ˆë‹¤.  

This means that EC2 instances with IPv6 addresses can communicate with each other using their IPv6 addresses within the VPC.  
ì¦‰, IPv6 ì£¼ì†Œë¥¼ ê°€ì§„ EC2 ì¸ìŠ¤í„´ìŠ¤ëŠ” VPC ë‚´ì—ì„œ ì„œë¡œ IPv6 ì£¼ì†Œë¥¼ í†µí•´ í†µì‹ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  

Traffic within this CIDR remains local and does not traverse the public internet.  
ì´ CIDR ë‚´ íŠ¸ë˜í”½ì€ ë¡œì»¬ì— ë‚¨ì•„ ê³µìš© ì¸í„°ë„·ì„ í†µê³¼í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.  

This configuration ensures efficient and secure communication between instances using IPv6.  
ì´ êµ¬ì„±ì€ IPv6ë¥¼ ì‚¬ìš©í•œ ì¸ìŠ¤í„´ìŠ¤ ê°„ íš¨ìœ¨ì ì´ê³  ì•ˆì „í•œ í†µì‹ ì„ ë³´ì¥í•©ë‹ˆë‹¤.  

---

## IPv4 Address Limitations and IPv6 Availability  
## IPv4 ì£¼ì†Œ ì œí•œê³¼ IPv6 ì‚¬ìš© ê°€ëŠ¥ì„±  

Note that in your subnet, there may be a limited number of IPv4 addresses left, for example, 248.  
ì„œë¸Œë„·ì— ë‚¨ì•„ìˆëŠ” IPv4 ì£¼ì†Œê°€ ì œí•œì ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆ: 248ê°œ.  

Even though there are many IPv6 addresses available, if you exhaust all IPv4 addresses in your subnet, you will need to assign a new CIDR block to continue creating EC2 instances.  
IPv6 ì£¼ì†Œê°€ ì¶©ë¶„í•˜ë”ë¼ë„, ì„œë¸Œë„· ë‚´ ëª¨ë“  IPv4 ì£¼ì†Œë¥¼ ì‚¬ìš©í•˜ë©´ ìƒˆ EC2 ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ ìƒˆë¡œìš´ CIDR ë¸”ë¡ì„ í• ë‹¹í•´ì•¼ í•©ë‹ˆë‹¤.  

This is because each EC2 instance requires an IPv4 address regardless of IPv6 availability.  
ì´ëŠ” ê° EC2 ì¸ìŠ¤í„´ìŠ¤ê°€ IPv6ê°€ ìˆì–´ë„ IPv4 ì£¼ì†Œë¥¼ í•„ìš”ë¡œ í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.  

This concludes the IPv6 setup and configuration for your VPC and instances.  
ì´ë¡œì¨ VPC ë° ì¸ìŠ¤í„´ìŠ¤ì— ëŒ€í•œ IPv6 ì„¤ì •ê³¼ êµ¬ì„±ì„ ë§ˆì¹©ë‹ˆë‹¤.  

I hope you found this demonstration helpful.  
ì´ë²ˆ ì‹¤ìŠµì´ ë„ì›€ì´ ë˜ì—ˆê¸°ë¥¼ ë°”ëë‹ˆë‹¤.  

---

## Key Takeaways  
## í•µì‹¬ ìš”ì•½  

- Enabled IPv6 in a VPC by adding an IPv6 CIDR block.  
- IPv6 CIDR ë¸”ë¡ì„ ì¶”ê°€í•˜ì—¬ VPCì—ì„œ IPv6ë¥¼ í™œì„±í™”í–ˆìŠµë‹ˆë‹¤.  

- Assigned IPv6 CIDRs to subnets and enabled auto-assign IPv6 addresses.  
- ì„œë¸Œë„·ì— IPv6 CIDRì„ í• ë‹¹í•˜ê³  IPv6 ì£¼ì†Œ ìë™ í• ë‹¹ì„ í™œì„±í™”í–ˆìŠµë‹ˆë‹¤.  

- Added IPv6 addresses to EC2 instances and configured security groups for IPv6 SSH access.  
- EC2 ì¸ìŠ¤í„´ìŠ¤ì— IPv6 ì£¼ì†Œë¥¼ ì¶”ê°€í•˜ê³  IPv6 SSH ì ‘ì†ì„ ìœ„í•´ ë³´ì•ˆ ê·¸ë£¹ì„ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤.  

- Verified IPv6 connectivity using external tools and understood route table configurations for IPv6 traffic.  
- ì™¸ë¶€ ë„êµ¬ë¥¼ ì‚¬ìš©í•´ IPv6 ì—°ê²°ì„ í™•ì¸í•˜ê³  IPv6 íŠ¸ë˜í”½ì„ ìœ„í•œ ë¼ìš°íŠ¸ í…Œì´ë¸” êµ¬ì„±ì„ ì´í•´í–ˆìŠµë‹ˆë‹¤.  
```
