# Create an EC2 Instance with EC2 User Data to have a Website Hands On  
# EC2 User Dataë¥¼ ì‚¬ìš©í•˜ì—¬ ì›¹ì‚¬ì´íŠ¸ë¥¼ ìœ„í•œ EC2 ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ì‹¤ìŠµ  
ğŸ‘‰ EC2 ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ê³  User Dataë¥¼ í†µí•´ ì›¹ì„œë²„ë¥¼ ìë™ìœ¼ë¡œ ë„ìš°ëŠ” ì‹¤ìŠµ ê°•ì˜ì…ë‹ˆë‹¤.  

---

Welcome. In this lecture, we are going to launch our first EC2 instance running Amazon Linux.  
í™˜ì˜í•©ë‹ˆë‹¤. ì´ë²ˆ ê°•ì˜ì—ì„œëŠ” Amazon Linuxë¥¼ ì‹¤í–‰í•˜ëŠ” ì²« ë²ˆì§¸ EC2 ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.  
â¡ï¸ EC2 ì¸ìŠ¤í„´ìŠ¤ ê¸°ë³¸ ìƒì„± ê³¼ì •ì„ ì‹¤ìŠµí•©ë‹ˆë‹¤.  

We will be launching a virtual server using the console. We will cover a high-level approach to the various parameters available when launching an EC2 instance. Although there are many options, we will focus on the most important ones.  
ì½˜ì†”ì„ ì‚¬ìš©í•´ ê°€ìƒì„œë²„ë¥¼ ì‹œì‘í•˜ê³ , EC2 ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‹œì‘í•  ë•Œ ì„ íƒí•  ìˆ˜ ìˆëŠ” ì—¬ëŸ¬ ë§¤ê°œë³€ìˆ˜ë¥¼ ê³ ìˆ˜ì¤€ì—ì„œ ë‹¤ë£¹ë‹ˆë‹¤. ë§ì€ ì˜µì…˜ì´ ìˆì§€ë§Œ í•µì‹¬ë§Œ ì§‘ì¤‘í•˜ê² ìŠµë‹ˆë‹¤.  
â¡ï¸ ì²˜ìŒì—ëŠ” í•„ìˆ˜ì ì¸ ì„¤ì • ìœ„ì£¼ë¡œ í•™ìŠµí•©ë‹ˆë‹¤.  

Then, we will launch a web server directly on the EC2 instance using a piece of code passed to the instance called the user data.  
ê·¸ë‹¤ìŒ User Dataë¼ëŠ” ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•´ EC2 ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ì›¹ ì„œë²„ë¥¼ ë°”ë¡œ ì‹¤í–‰í•©ë‹ˆë‹¤.  
â¡ï¸ User DataëŠ” ìë™ ì„¤ì • ë° ì´ˆê¸°í™”ì— ì‚¬ìš©ë©ë‹ˆë‹¤.  

Finally, we will learn how to start, stop, and terminate our instance. Let's get started and launch our first EC2 instance.  
ë§ˆì§€ë§‰ìœ¼ë¡œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‹œì‘, ì¤‘ì§€, ì¢…ë£Œí•˜ëŠ” ë°©ë²•ì„ ë°°ìš°ê² ìŠµë‹ˆë‹¤. ì´ì œ ì²« EC2 ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ì–´ ë´…ì‹œë‹¤.  
â¡ï¸ ì¸ìŠ¤í„´ìŠ¤ ê´€ë¦¬ ë°©ë²•ê¹Œì§€ ìµí™ë‹ˆë‹¤.  

---

## Step 1: Launching an EC2 Instance  
## 1ë‹¨ê³„: EC2 ì¸ìŠ¤í„´ìŠ¤ ì‹œì‘í•˜ê¸°  

To begin, I will go into the EC2 Console, click on Instances, and then click on Launch Instances.  
ë¨¼ì € EC2 ì½˜ì†”ì—ì„œ "Instances"ë¥¼ í´ë¦­í•˜ê³  "Launch Instances"ë¥¼ ëˆ„ë¦…ë‹ˆë‹¤.  
â¡ï¸ AWS ì½˜ì†”ì—ì„œ ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ì‹œì‘.  

Here, I can launch my first EC2 instance. I need to add a name and tags. The name will be "My First Instance" and the tag will be "app".  
ì—¬ê¸°ì„œ ì²« EC2 ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‹œì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¦„ê³¼ íƒœê·¸ë¥¼ ì¶”ê°€í•´ì•¼ í•˜ë©°, ì´ë¦„ì€ "My First Instance", íƒœê·¸ëŠ” "app"ìœ¼ë¡œ ì„¤ì •í•©ë‹ˆë‹¤.  
â¡ï¸ ì´ë¦„/íƒœê·¸ëŠ” ì¸ìŠ¤í„´ìŠ¤ ì‹ë³„ ë° ê´€ë¦¬ ìš©ë„ì…ë‹ˆë‹¤.  

---

## Step 2: Choose an Amazon Machine Image (AMI)  
## 2ë‹¨ê³„: AMI ì„ íƒí•˜ê¸°  

Next, you need to choose a base image for your EC2 instance. This is the operating system of your instance.  
ë‹¤ìŒìœ¼ë¡œ EC2 ì¸ìŠ¤í„´ìŠ¤ì˜ ìš´ì˜ì²´ì œ ì—­í• ì„ í•˜ëŠ” ê¸°ë³¸ ì´ë¯¸ì§€ë¥¼ ì„ íƒí•´ì•¼ í•©ë‹ˆë‹¤.  
â¡ï¸ OS ì„ íƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.  

We will select Amazon Linux 2 AMI, which is provided by AWS and is free tier eligible. The architecture will be 64-bit x86.  
AWSì—ì„œ ì œê³µí•˜ë©° í”„ë¦¬í‹°ì–´ ì‚¬ìš© ê°€ëŠ¥í•œ Amazon Linux 2 AMIë¥¼ ì„ íƒí•˜ê³ , ì•„í‚¤í…ì²˜ëŠ” 64ë¹„íŠ¸ x86ìœ¼ë¡œ í•©ë‹ˆë‹¤.  
*ì¢€ë” ìµœê·¼ì— ë‚˜ì˜¨ Amazon Linux 2023ë¥¼ ëŒ€ì‹  ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤. 
â¡ï¸ í”„ë¦¬í‹°ì–´ ë²”ìœ„ ë‚´ì—ì„œ ì•ˆì „í•œ ì„ íƒì…ë‹ˆë‹¤.  

---

## Step 3: Choose an Instance Type  
## 3ë‹¨ê³„: ì¸ìŠ¤í„´ìŠ¤ íƒ€ì… ì„ íƒ  

By default, t2.micro is selected, which is free tier eligible.  
ê¸°ë³¸ê°’ì€ t2.microì´ë©° í”„ë¦¬í‹°ì–´ì—ì„œ ë¬´ë£Œ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.  
â¡ï¸ ì´ˆë³´ìëŠ” t2.microë¥¼ ì“°ëŠ” ê²Œ ì ì ˆí•©ë‹ˆë‹¤.  

This means you can run one t2.micro instance free for an entire month if left running.  
ì¦‰, t2.micro ì¸ìŠ¤í„´ìŠ¤ë¥¼ í•œ ë‹¬ ë‚´ë‚´ ì‹¤í–‰í•´ë„ ë¬´ë£Œì…ë‹ˆë‹¤.  
â¡ï¸ ë‹¤ë§Œ ì‹œê°„ë‹¹ 750ì‹œê°„(ì•½ í•œ ë‹¬ì¹˜) ì œí•œì´ ìˆìŠµë‹ˆë‹¤.  

---

## Step 4: Create a Key Pair for SSH  
## 4ë‹¨ê³„: SSH ì ‘ì†ìš© í‚¤ í˜ì–´ ìƒì„±  

Next, you need to create a key pair to log into your instance using SSH.  
ë‹¤ìŒìœ¼ë¡œ ì¸ìŠ¤í„´ìŠ¤ì— SSHë¡œ ì ‘ì†í•  ìˆ˜ ìˆë„ë¡ í‚¤ í˜ì–´ë¥¼ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤.  
â¡ï¸ ë³´ì•ˆìƒ í•„ìˆ˜ ê³¼ì •ì…ë‹ˆë‹¤.  

We will create a new key pair named "EC2 Tutorial". Choose RSA encryption and .pem format.  
"EC2 Tutorial"ì´ë¼ëŠ” ìƒˆ í‚¤ í˜ì–´ë¥¼ ë§Œë“¤ê³ , RSA ì•”í˜¸í™”ì™€ .pem í˜•ì‹ì„ ì„ íƒí•©ë‹ˆë‹¤.  
â¡ï¸ .pemì€ Mac/Linux/Win10 ì´ìƒì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.  

---

## Step 5: Configure Network Settings  
## 5ë‹¨ê³„: ë„¤íŠ¸ì›Œí¬ ì„¤ì •  

By default, the instance will get a public IP address.  
ê¸°ë³¸ì ìœ¼ë¡œ ì¸ìŠ¤í„´ìŠ¤ëŠ” ê³µì¸ IP ì£¼ì†Œë¥¼ ë°›ìŠµë‹ˆë‹¤.  
â¡ï¸ ì™¸ë¶€ì—ì„œ ì ‘ì† ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì •ë©ë‹ˆë‹¤.  

We will allow SSH traffic (port 22) and HTTP traffic (port 80).  
SSH(22ë²ˆ í¬íŠ¸)ì™€ HTTP(80ë²ˆ í¬íŠ¸)ë¥¼ í—ˆìš©í•©ë‹ˆë‹¤.  
â¡ï¸ ì›¹ ì„œë²„ ì ‘ê·¼ì„ ìœ„í•´ í•„ìˆ˜ ì„¤ì •ì…ë‹ˆë‹¤.  

---

## Step 6: Configure Storage  
## 6ë‹¨ê³„: ìŠ¤í† ë¦¬ì§€ ì„¤ì •  

By default, there is an 8 GB gp2 root volume.  
ê¸°ë³¸ì ìœ¼ë¡œ 8GB gp2 ë£¨íŠ¸ ë³¼ë¥¨ì´ ì„¤ì •ë©ë‹ˆë‹¤.  
â¡ï¸ í”„ë¦¬í‹°ì–´ëŠ” ìµœëŒ€ 30GBê¹Œì§€ ê°€ëŠ¥í•©ë‹ˆë‹¤.  

"Delete on termination" is enabled by default.  
ê¸°ë³¸ì ìœ¼ë¡œ "ì¢…ë£Œ ì‹œ ì‚­ì œ"ê°€ í™œì„±í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤.  
â¡ï¸ ì¸ìŠ¤í„´ìŠ¤ ì¢…ë£Œ ì‹œ ë³¼ë¥¨ë„ ì‚­ì œë©ë‹ˆë‹¤.  

---

## Step 7: Add User Data Script  
## 7ë‹¨ê³„: User Data ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€  

Scroll to advanced details, and in the user data section, paste the script to:  
ê³ ê¸‰ ì„¤ì •ì—ì„œ User Data ì„¹ì…˜ìœ¼ë¡œ ì´ë™í•´ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë¶™ì—¬ë„£ìŠµë‹ˆë‹¤:  
â¡ï¸ ìµœì´ˆ ì‹¤í–‰ ì‹œ ìë™ ì‘ì—… ì‹¤í–‰.  

- Update the system  
- ì‹œìŠ¤í…œ ì—…ë°ì´íŠ¸  
- Install HTTPD web server  
- HTTPD ì›¹ ì„œë²„ ì„¤ì¹˜  
- Create a simple HTML file as homepage  
- ê°„ë‹¨í•œ HTML íŒŒì¼ì„ í™ˆ í˜ì´ì§€ë¡œ ìƒì„±  

â¡ï¸ ë¶€íŒ… í›„ ìë™ìœ¼ë¡œ ì›¹ ì„œë²„ê°€ ì‹¤í–‰ë©ë‹ˆë‹¤.  

---

## Step 8: Review and Launch  
## 8ë‹¨ê³„: ê²€í†  ë° ì¸ìŠ¤í„´ìŠ¤ ì‹œì‘  

Review all settings and launch the instance.  
ëª¨ë“  ì„¤ì •ì„ í™•ì¸í•œ ë’¤ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.  
â¡ï¸ ì„¤ì •ì´ ë¬¸ì œì—†ìœ¼ë©´ ì‹œì‘.  

The instance will be in "pending" state for ~10-15 seconds, then running.  
ì¸ìŠ¤í„´ìŠ¤ëŠ” ì•½ 10~15ì´ˆ ë™ì•ˆ "pending" ìƒíƒœì˜€ë‹¤ê°€ ì‹¤í–‰ë©ë‹ˆë‹¤.  
â¡ï¸ í´ë¼ìš°ë“œì˜ ë¹ ë¥¸ ë°°í¬ ì†ë„ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤.  

---

## Step 9: Accessing the Web Server  
## 9ë‹¨ê³„: ì›¹ ì„œë²„ ì ‘ì†  

Copy the public IPv4 address and paste it into your browser with HTTP.  
ê³µì¸ IPv4 ì£¼ì†Œë¥¼ ë³µì‚¬í•´ ë¸Œë¼ìš°ì €ì—ì„œ HTTPë¡œ ì ‘ì†í•©ë‹ˆë‹¤.  
â¡ï¸ HTTPSë¡œëŠ” ì ‘ì† ë¶ˆê°€í•©ë‹ˆë‹¤.  

You should see "Hello World from [Private IPv4]".  
"Hello World from [Private IPv4]" ë©”ì‹œì§€ê°€ í‘œì‹œë©ë‹ˆë‹¤.  
â¡ï¸ ì›¹ ì„œë²„ê°€ ì •ìƒ ì‹¤í–‰ëœ ì¦ê±°ì…ë‹ˆë‹¤.  

---

## Step 10: Managing Instance State  
## 10ë‹¨ê³„: ì¸ìŠ¤í„´ìŠ¤ ìƒíƒœ ê´€ë¦¬  

- Stop: ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì¤‘ì§€í•˜ë©´ ê³¼ê¸ˆì´ ë©ˆì¶”ê³ , ë³¼ë¥¨ì€ ìœ ì§€ë©ë‹ˆë‹¤.  
- Terminate: ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì¢…ë£Œí•˜ë©´ ì¸ìŠ¤í„´ìŠ¤ì™€ ë³¼ë¥¨ì´ ì‚­ì œë©ë‹ˆë‹¤.  
- Restart: ì¬ì‹œì‘í•˜ë©´ ìƒˆë¡œìš´ ê³µì¸ IPê°€ í• ë‹¹ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  

â¡ï¸ ë¹„ìš©ê³¼ ë¦¬ì†ŒìŠ¤ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  

---

## Summary  
## ìš”ì•½  

We launched our first EC2 instance and web server in the cloud.  
ì²« ë²ˆì§¸ EC2 ì¸ìŠ¤í„´ìŠ¤ì™€ ì›¹ ì„œë²„ë¥¼ í´ë¼ìš°ë“œì— ë°°í¬í–ˆìŠµë‹ˆë‹¤.  
â¡ï¸ EC2 ê¸°ì´ˆ ì‹¤ìŠµ ì™„ë£Œ!  

---

## Key Takeaways  
## í•µì‹¬ ìš”ì•½  

- Launched EC2 instance with Amazon Linux 2 AMI and t2.micro.  
- Amazon Linux 2 AMIì™€ t2.microë¡œ ì¸ìŠ¤í„´ìŠ¤ ì‹œì‘.  

- Configured key pairs and security groups (SSH + HTTP).  
- í‚¤ í˜ì–´ì™€ ë³´ì•ˆ ê·¸ë£¹(SSH, HTTP) ì„¤ì •.  

- Used User Data to install and start web server.  
- User Dataë¡œ ì›¹ ì„œë²„ ìë™ ì„¤ì¹˜/ì‹¤í–‰.  

- Learned to start, stop, and terminate instances.  
- ì¸ìŠ¤í„´ìŠ¤ ì‹œì‘, ì¤‘ì§€, ì¢…ë£Œ ë°©ë²• í•™ìŠµ.  
