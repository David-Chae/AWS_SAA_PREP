# IAM Policies Hands On  
# IAM 정책 실습  
실습을 통해 IAM 정책이 실제로 어떻게 적용되고 상속되는지 확인합니다.

---

## Introduction to IAM Policies  
## IAM 정책 소개  
IAM 정책 실습의 목적과 기본 개념을 안내합니다.

Let's examine IAM policies in depth.  
IAM 정책을 자세히 살펴보겠습니다.  
실습을 통해 정책 적용과 권한 변화를 직접 경험하도록 합니다.

First, navigate to the users section.  
먼저, Users 섹션으로 이동합니다.  
IAM 콘솔에서 사용자 관리 위치를 안내합니다.

For example, the user Stephane is part of the admin group, which grants administrator access permissions to AWS.  
예를 들어, 사용자 Stephane는 Admin 그룹에 속해 있으며, 이 그룹은 AWS 관리자 권한을 부여합니다.  
그룹 상속을 통한 관리자 권한 예시를 보여줍니다.

Using the user Stephane to access the IAM console, you can see the user listed under users.  
Stephane 계정을 사용해 IAM 콘솔에 접근하면, Users 목록에서 해당 사용자를 확인할 수 있습니다.  
실제 콘솔에서 사용자 확인 방법을 안내합니다.

Since Stephane belongs to the admin group, they have permission to perform any action as an administrator.  
Stephane는 Admin 그룹에 속해 있으므로, 관리자 권한으로 모든 작업을 수행할 수 있습니다.  
그룹 상속으로 권한이 부여됨을 명확히 합니다.

---

### Removing User from Admin Group  
### Admin 그룹에서 사용자 제거  
권한 변경 실습을 위해 사용자를 그룹에서 제거합니다.

To demonstrate permission changes, remove the user Stephane from the admin group.  
권한 변화를 보여주기 위해, Stephane를 Admin 그룹에서 제거합니다.  
그룹 제거 시 권한 상실을 실습합니다.

Once removed, Stephane loses the administrator permissions previously granted by the group.  
제거되면, Stephane는 그룹을 통해 부여받았던 관리자 권한을 잃습니다.  
그룹 기반 권한 상실 효과를 확인합니다.

After removal, refreshing the users page results in an access denied error, indicating that the user no longer has permission to perform the `iamListUsers` action.  
제거 후 Users 페이지를 새로고침하면 접근 거부 오류가 발생하며, 사용자가 `iamListUsers` 권한을 더 이상 가지지 않음을 확인할 수 있습니다.  
실제 권한 제거 효과를 실습으로 보여줍니다.

This confirms that removing a user from a group revokes their permissions accordingly.  
이는 사용자를 그룹에서 제거하면 권한이 함께 해제된다는 것을 확인시켜 줍니다.  
그룹 기반 권한 상속과 해제 구조를 이해하도록 합니다.

---

### Restoring Permissions by Attaching Policies  
### 정책을 직접 부착하여 권한 복원  
그룹 대신 직접 정책을 부착하여 권한을 복원하는 실습입니다.

To restore permissions for Stephane, navigate to the user and add permissions.  
Stephane의 권한을 복원하려면, 사용자 화면으로 이동해 권한을 추가합니다.  
직접 정책 부착 방법 안내.

Instead of adding the user back to a group, attach policies directly to the user.  
사용자를 다시 그룹에 추가하는 대신, 정책을 사용자에게 직접 부착합니다.  
직접 부착 방식의 장점과 활용법 설명.

For example, attach the **IAMReadOnlyAccess** policy to allow read-only access to IAM resources.  
예를 들어, **IAMReadOnlyAccess** 정책을 부착하여 IAM 리소스에 대한 읽기 전용 권한을 부여합니다.  
읽기 전용 정책 예시를 보여줍니다.

After attaching the policy, refreshing the users page allows viewing users and user groups but restricts creating new groups.  
정책 부착 후 Users 페이지를 새로고침하면 조회는 가능하지만 새 그룹 생성은 제한됩니다.  
읽기 전용 권한의 제한 범위를 실습으로 보여줍니다.

Attempting to create a group results in an access denied error, demonstrating that read-only access limits modification capabilities.  
그룹 생성을 시도하면 접근 거부 오류가 발생하며, 읽기 전용 권한이 수정 작업을 제한함을 확인할 수 있습니다.  
정책 효과를 직접 확인하도록 안내합니다.

This example illustrates that permissions should be granted strictly according to the user's required actions.  
이 예시는 권한을 사용자가 실제 수행해야 하는 작업에 맞게 정확히 부여해야 함을 보여줍니다.  
최소 권한 원칙을 강조합니다.

To allow creating groups, a broader permission set such as **IAMFullAccess** must be attached.  
그룹 생성을 허용하려면, **IAM Full Access**와 같은 더 넓은 권한 세트를 부착해야 합니다.  
권한 수준별 차이를 실습으로 이해합니다.

---

### Creating User Groups and Assigning Policies  
### 사용자 그룹 생성 및 정책 부착  
새 그룹 생성과 정책 상속 실습을 진행합니다.

Next, create a new group named **developers**.  
다음으로, **Developers**라는 새 그룹을 생성합니다.  
그룹 생성 실습 안내.

Add the user Stephane to this group and attach any policy, such as **AlexaForBusiness**, to demonstrate policy inheritance.  
사용자 Stephane를 이 그룹에 추가하고 **AlexaForBusiness** 정책을 부착하여 그룹 상속 정책을 실습합니다.  
그룹 기반 정책 상속 예시.

Also, re-add Stephane to the admin group.  
또한 Stephane를 Admin 그룹에 다시 추가합니다.  
다중 그룹 상속 예시.

Now, the user has multiple policies:  
- Admin 그룹 → 관리자 권한  
- Developers 그룹 → AlexaForBusiness 관리 정책  
- 직접 부착 → IAMReadOnlyAccess  

이제 Stephane는 여러 권한 정책을 동시에 가지게 됩니다.  
다중 출처 정책 상속 구조를 확인합니다.

---

### Understanding IAM Policies in Detail  
### IAM 정책 상세 이해  
정책의 JSON 구조와 권한 범위를 확인합니다.

Navigate to the policies section to examine specific policies.  
Policies 섹션으로 이동하여 특정 정책을 확인합니다.  
정책 확인 위치 안내.

Example: **AdministratorAccess** policy grants full access to all AWS services and resources.  
예시: **AdministratorAccess** 정책은 모든 AWS 서비스와 리소스에 대한 전체 권한을 부여합니다.  
관리자 권한 정책 설명.

The JSON of this policy shows:  
- `"Action": "*"` → 모든 작업 허용  
- `"Resource": "*"` → 모든 리소스 허용  

이것은 사실상 관리자 권한과 동일합니다.

By contrast, **IAMReadOnlyAccess** authorizes only specific API calls (e.g., `List*`, `Get*`).  
반면, **IAMReadOnlyAccess**는 조회용 API 호출만 허용합니다.  
읽기 전용 정책의 제한 범위 설명.

JSON example:  
```json
{
  "Effect": "Allow",
  "Action": [
    "iam:ListUsers",
    "iam:GetUser"
  ],
  "Resource": "*"
}
````

와일드카드(`Get*`, `List*`)를 활용하면 정책 정의가 간소화됩니다.

---

### Creating Custom IAM Policies

### 커스텀 IAM 정책 생성

사용자 맞춤 정책 작성 방법 안내.

Custom policies can be created using:

* Visual Editor
* JSON Editor

커스텀 정책 작성 방식 안내.

Example: Allow only `ListUsers` and `GetUser`.
예시: IAM에서 `ListUsers`, `GetUser`만 허용.
Visual Editor에서 액션 선택 후 리소스 지정.

After creation, review the JSON to confirm permissions.
정책 생성 후 JSON을 검토하여 의도한 권한 포함 여부 확인.
정책 검증 과정 안내.

Attach the custom policy to users or groups as needed.
커스텀 정책은 필요 시 사용자/그룹에 부착 가능.
실제 적용 방법 안내.

---

### Cleaning Up and Finalizing

### 정리 및 마무리

실습 종료 전 권한과 그룹을 정리합니다.

* Delete the **developers** group if not needed.

* 필요 없으면 **Developers** 그룹 삭제.

* Remove directly attached policies (e.g., **IAMReadOnlyAccess**) from Stephane.

* Stephane에서 직접 부착된 정책 제거.

* Keep only Admin group membership → full access restored.

* Admin 그룹만 남기면 전체 권한 복원.

IAM 콘솔 확인 시 전체 권한이 정상적으로 관리됨을 확인할 수 있습니다.

---

## Key Takeaways

## 핵심 요약

* IAM user permissions are managed through group memberships and attached policies.

* IAM 사용자 권한은 그룹 소속과 부착 정책을 통해 관리됩니다.

* Removing a user from an admin group revokes their administrator access immediately.

* Admin 그룹에서 제거하면 관리자 권한이 즉시 해제됩니다.

* Read-only access policies allow viewing but restrict modification actions.

* 읽기 전용 정책은 조회는 가능하지만 수정은 제한됩니다.

* Custom IAM policies can be created with Visual/JSON editor for precise permissions.

* Visual/JSON Editor로 커스텀 IAM 정책을 만들어 정확히 권한을 지정할 수 있습니다.

