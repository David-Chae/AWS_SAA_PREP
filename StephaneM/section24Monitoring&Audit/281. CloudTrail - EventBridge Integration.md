## 1ï¸âƒ£ ê¸°ë³¸ ê°œë…

* **CloudTrail**: AWS ê³„ì •ì—ì„œ ë°œìƒí•œ ëª¨ë“  API í˜¸ì¶œ ê¸°ë¡
* **EventBridge**: ë°œìƒí•œ ì´ë²¤íŠ¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ **ìë™ ì‘ì—…/ì•Œë¦¼** ì‹¤í–‰
* **í†µí•© ëª©ì **: ì¤‘ìš”í•œ API í˜¸ì¶œì´ ë°œìƒí•˜ë©´ **ì¦‰ì‹œ ëŒ€ì‘** ê°€ëŠ¥

---

## 2ï¸âƒ£ íë¦„ ì˜ˆì‹œ: DynamoDB í…Œì´ë¸” ì‚­ì œ

1. ì‚¬ìš©ì ë˜ëŠ” í”„ë¡œê·¸ë¨ì´ **DeleteTable API** í˜¸ì¶œ
2. **CloudTrail**ì´ í˜¸ì¶œ ê¸°ë¡
3. í˜¸ì¶œ ê¸°ë¡ â†’ **EventBridge ì´ë²¤íŠ¸**ë¡œ ë³€í™˜
4. EventBridge **Rule**ì—ì„œ ì¡°ê±´(ì˜ˆ: DeleteTable API ê°ì§€) ì„¤ì •
5. Ruleì˜ **Target**ìœ¼ë¡œ SNS ì§€ì •
6. SNS â†’ ì´ë©”ì¼ ë˜ëŠ” SMSë¡œ ì•Œë¦¼

```
[DeleteTable API í˜¸ì¶œ]
           â†“
       [CloudTrail ê¸°ë¡]
           â†“
     [EventBridge ì´ë²¤íŠ¸]
           â†“
      [Rule ì¡°ê±´ í™•ì¸]
           â†“
      [SNS ì•Œë¦¼ ì „ì†¡]
```

---

## 3ï¸âƒ£ ì¶”ê°€ í™œìš© ì˜ˆì‹œ

| ì‹œë‚˜ë¦¬ì˜¤      | API í˜¸ì¶œ                        | EventBridge ì—°ë™ | Target/ì•Œë¦¼ |
| --------- | ----------------------------- | -------------- | --------- |
| IAM ì—­í•  ìœ„ì„ | AssumeRole                    | Rule ìƒì„±        | SNS       |
| ë³´ì•ˆ ê·¸ë£¹ ë³€ê²½  | AuthorizeSecurityGroupIngress | Rule ìƒì„±        | SNS       |

* **í•µì‹¬ ì•„ì´ë””ì–´:**

  * **CloudTrail** = ëª¨ë“  í–‰ë™ ê¸°ë¡
  * **EventBridge** = íŠ¹ì • í–‰ë™ì„ ê°ì§€ â†’ ìë™ ì‹¤í–‰

---

## 4ï¸âƒ£ ì¥ì 

1. **ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§:** ì¤‘ìš”í•œ API í˜¸ì¶œ ì¦‰ì‹œ ê°ì§€
2. **ìë™í™” ëŒ€ì‘:** ì•Œë¦¼, Lambda ì‹¤í–‰, ì›Œí¬í”Œë¡œìš° íŠ¸ë¦¬ê±° ê°€ëŠ¥
3. **ë³´ì•ˆ ê°•í™”:** IAM ë³€ê²½, ë³´ì•ˆ ê·¸ë£¹ ìˆ˜ì • ë“± ë¯¼ê° ì´ë²¤íŠ¸ ì¦‰ì‹œ í™•ì¸
4. **ìœ ì—°í•œ í™•ì¥:** ê±°ì˜ ëª¨ë“  AWS API í˜¸ì¶œ ê°ì§€ ê°€ëŠ¥

---

## 5ï¸âƒ£ í•œ ë¬¸ì¥ ìš”ì•½

> **CloudTrail + EventBridge í†µí•© = â€œAWS í–‰ë™ì„ ì‹¤ì‹œê°„ ì´ë²¤íŠ¸ë¡œ ë³€í™˜ â†’ ìë™ ì•Œë¦¼/ëŒ€ì‘â€**
> ì¤‘ìš”í•œ API í˜¸ì¶œì´ ë°œìƒí•˜ë©´ ì¦‰ì‹œ ì•Œë¦¼ì„ ë³´ë‚´ê³ , ìë™í™” ì›Œí¬í”Œë¡œìš°ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```markdown
# CloudTrail - EventBridge Integration  
# CloudTrail - EventBridge í†µí•©  

## CloudTrail and Amazon EventBridge Integration  
## CloudTrailê³¼ Amazon EventBridge í†µí•©  
A very important cultural integration you need to know about is the one with Amazon EventBridge to intercept any API calls.  
ì¤‘ìš”í•˜ê²Œ ì•Œì•„ì•¼ í•  í†µí•© ì¤‘ í•˜ë‚˜ëŠ” Amazon EventBridgeì™€ì˜ í†µí•©ìœ¼ë¡œ, ëª¨ë“  API í˜¸ì¶œì„ ê°€ë¡œì±„ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.  
(ì¤‘ìš” ê¸°ëŠ¥ ê°•ì¡°)  

For example, suppose you want to receive an SNS notification anytime a user deletes a table in DynamoDB by using the DeleteTable API call.  
ì˜ˆë¥¼ ë“¤ì–´, ì‚¬ìš©ìê°€ DynamoDBì—ì„œ DeleteTable API í˜¸ì¶œì„ ì‚¬ìš©í•´ í…Œì´ë¸”ì„ ì‚­ì œí•  ë•Œë§ˆë‹¤ SNS ì•Œë¦¼ì„ ë°›ê³  ì‹¶ë‹¤ê³  ê°€ì •í•©ë‹ˆë‹¤.  
(ì‹¤ë¬´ ì˜ˆì‹œ)  

Whenever we perform an API call in AWS, the API call itself is logged in CloudTrail. This applies to any API call.  
AWSì—ì„œ API í˜¸ì¶œì´ ì´ë£¨ì–´ì§ˆ ë•Œë§ˆë‹¤, í•´ë‹¹ API í˜¸ì¶œì€ CloudTrailì— ê¸°ë¡ë©ë‹ˆë‹¤. ì´ëŠ” ëª¨ë“  API í˜¸ì¶œì— ì ìš©ë©ë‹ˆë‹¤.  
(ê¸°ë³¸ ë™ì‘ ì„¤ëª…)  

All these API calls also end up as events in Amazon EventBridge. We can look for that very specific DeleteTable API call and create a rule based on it.  
ì´ ëª¨ë“  API í˜¸ì¶œì€ Amazon EventBridgeì—ì„œë„ ì´ë²¤íŠ¸ë¡œ ê¸°ë¡ë©ë‹ˆë‹¤. íŠ¹ì • DeleteTable API í˜¸ì¶œì„ ì°¾ì•„ í•´ë‹¹ í˜¸ì¶œì— ê¸°ë°˜í•œ ê·œì¹™ì„ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
(ê·œì¹™ ìƒì„± ë°©ë²•)  

This rule will have a destination, which can be Amazon SNS, allowing us to create alerts.  
ì´ ê·œì¹™ì€ ëŒ€ìƒ(destination)ì„ ê°€ì§ˆ ìˆ˜ ìˆìœ¼ë©°, ì˜ˆë¥¼ ë“¤ì–´ Amazon SNSë¥¼ ì§€ì •í•˜ì—¬ ì•Œë¦¼ì„ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
(ì•Œë¦¼ ì„¤ì •)  

---

## Additional Examples of EventBridge and CloudTrail Integration  
## EventBridgeì™€ CloudTrail í†µí•© ì¶”ê°€ ì˜ˆì‹œ  
Here are a few more examples of how you can integrate Amazon EventBridge and CloudTrail.  
ë‹¤ìŒì€ Amazon EventBridgeì™€ CloudTrailì„ í†µí•©í•  ìˆ˜ ìˆëŠ” ëª‡ ê°€ì§€ ì¶”ê°€ ì˜ˆì‹œì…ë‹ˆë‹¤.  
(ë‹¤ì–‘í•œ í™œìš© ë°©ë²•)  

For instance, you might want to be notified whenever a user assumes a role in your accounts. The AssumeRole API in the IAM service is logged by CloudTrail.  
ì˜ˆë¥¼ ë“¤ì–´, ì‚¬ìš©ìê°€ ê³„ì • ë‚´ì—ì„œ ì—­í• ì„ ë§¡ì„ ë•Œë§ˆë‹¤ ì•Œë¦¼ì„ ë°›ê³  ì‹¶ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. IAM ì„œë¹„ìŠ¤ì˜ AssumeRole APIëŠ” CloudTrailì— ê¸°ë¡ë©ë‹ˆë‹¤.  
(ì—­í•  ë³€ê²½ ì´ë²¤íŠ¸ ëª¨ë‹ˆí„°ë§)  

Using EventBridge integration, we can trigger a message into an SNS topic when this API call occurs.  
EventBridge í†µí•©ì„ ì‚¬ìš©í•˜ë©´, ì´ API í˜¸ì¶œì´ ë°œìƒí•  ë•Œ SNS ì£¼ì œë¡œ ë©”ì‹œì§€ë¥¼ ì „ì†¡í•˜ë„ë¡ íŠ¸ë¦¬ê±°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
(ìë™ ì•Œë¦¼ ì„¤ì •)  

Similarly, we can intercept API calls that change Security Group inbound rules. The API call AuthorizeSecurityGroupIngress is an EC2 API call.  
ë§ˆì°¬ê°€ì§€ë¡œ, Security Groupì˜ ì¸ë°”ìš´ë“œ ê·œì¹™ì„ ë³€ê²½í•˜ëŠ” API í˜¸ì¶œë„ ê°€ë¡œì±Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤. AuthorizeSecurityGroupIngress API í˜¸ì¶œì€ EC2 APIì…ë‹ˆë‹¤.  
(Security Group ëª¨ë‹ˆí„°ë§)  

These calls are logged by CloudTrail and appear in EventBridge, which can then trigger notifications in SNS.  
ì´ í˜¸ì¶œë“¤ì€ CloudTrailì— ê¸°ë¡ë˜ê³  EventBridgeì— ë‚˜íƒ€ë‚˜ë©°, ì´ë¥¼ í†µí•´ SNS ì•Œë¦¼ì„ íŠ¸ë¦¬ê±°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
(ìë™í™” í”„ë¡œì„¸ìŠ¤)  

As you can see, the possibilities are endless, but now you have a few ideas of how this integration can be leveraged.  
ë³´ì‹œë‹¤ì‹œí”¼, í™œìš© ê°€ëŠ¥ì„±ì€ ë¬´ê¶ë¬´ì§„í•˜ì§€ë§Œ, ì´ì œ ì´ í†µí•©ì„ ì–´ë–»ê²Œ í™œìš©í•  ìˆ˜ ìˆëŠ”ì§€ ëª‡ ê°€ì§€ ì•„ì´ë””ì–´ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
(ì‘ìš© ê°€ëŠ¥ì„± ê°•ì¡°)  

I hope you found this information useful, and I will see you in the next lecture.  
ì´ ì •ë³´ê°€ ìœ ìš©í–ˆê¸¸ ë°”ë¼ë©°, ë‹¤ìŒ ê°•ì˜ì—ì„œ ëµ™ê² ìŠµë‹ˆë‹¤.  
(ë§ˆë¬´ë¦¬)  

---

## Key Takeaways  
## í•µì‹¬ ìš”ì•½  
- Amazon EventBridge can intercept API calls logged by CloudTrail to trigger automated responses.  
- Amazon EventBridgeëŠ” CloudTrailì— ê¸°ë¡ëœ API í˜¸ì¶œì„ ê°€ë¡œì±„ ìë™ ì‘ë‹µì„ íŠ¸ë¦¬ê±°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  

- You can create EventBridge rules to detect specific API calls, such as DynamoDB's DeleteTable, and send notifications via SNS.  
- EventBridge ê·œì¹™ì„ ìƒì„±í•˜ì—¬ DynamoDBì˜ DeleteTableê³¼ ê°™ì€ íŠ¹ì • API í˜¸ì¶œì„ ê°ì§€í•˜ê³  SNSë¥¼ í†µí•´ ì•Œë¦¼ì„ ë³´ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.  

- This integration allows monitoring of critical actions like AssumeRole in IAM or changes to Security Group inbound rules.  
- ì´ í†µí•©ì„ í†µí•´ IAMì˜ AssumeRole ë˜ëŠ” Security Group ì¸ë°”ìš´ë“œ ê·œì¹™ ë³€ê²½ê³¼ ê°™ì€ ì¤‘ìš”í•œ ì‘ì—…ì„ ëª¨ë‹ˆí„°ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  

- The combination of CloudTrail and EventBridge provides flexible and powerful event-driven automation possibilities in AWS.  
- CloudTrailê³¼ EventBridgeì˜ ì¡°í•©ì€ AWSì—ì„œ ìœ ì—°í•˜ê³  ê°•ë ¥í•œ ì´ë²¤íŠ¸ ê¸°ë°˜ ìë™í™” ê°€ëŠ¥ì„±ì„ ì œê³µí•©ë‹ˆë‹¤.  
```

ê²Œì„ë³´ìƒ: ğŸ† ë‹¹ì‹ ì€ ì´ì œ CloudTrailê³¼ EventBridge í†µí•© ë§ˆìŠ¤í„°! íŠ¹ì • API í˜¸ì¶œì„ ì¶”ì í•˜ê³  SNS ì•Œë¦¼ê¹Œì§€ ìë™í™”í•  ìˆ˜ ìˆëŠ” ëŠ¥ë ¥ì„ ì–»ì—ˆìŠµë‹ˆë‹¤. âš¡ğŸš€
