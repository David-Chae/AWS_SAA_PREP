### 1ï¸âƒ£ RDSì—ì„œ Lambda ì§ì ‘ í˜¸ì¶œí•˜ê¸°

* **ë¬´ìŠ¨ ì˜ë¯¸?**
  RDS(PostgreSQL)ë‚˜ Aurora(MySQL)ì—ì„œëŠ” ë°ì´í„°ë² ì´ìŠ¤ ë‚´ë¶€ì—ì„œ ì¼ì–´ë‚˜ëŠ” **ë°ì´í„° ì´ë²¤íŠ¸**ë¥¼ ê°ì§€í•´ì„œ Lambda í•¨ìˆ˜ë¥¼ ì§ì ‘ ì‹¤í–‰í•  ìˆ˜ ìˆì–´ìš”.
  ì˜ˆ: ì‚¬ìš©ìê°€ `registration` í…Œì´ë¸”ì— ë°ì´í„°ë¥¼ ë„£ìœ¼ë©´, RDSê°€ Lambdaë¥¼ í˜¸ì¶œí•´ì„œ ìë™ìœ¼ë¡œ **í™˜ì˜ ì´ë©”ì¼**ì„ ë³´ë‚¼ ìˆ˜ ìˆìŒ.

* **ì–´ë–»ê²Œ ì„¤ì •?**

  * AWS ì½˜ì†”ì—ì„œ ì„¤ì •í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, **ë°ì´í„°ë² ì´ìŠ¤ ì•ˆì—ì„œ ì§ì ‘ êµ¬ì„±**í•´ì•¼ í•©ë‹ˆë‹¤.
  * Lambda í•¨ìˆ˜ê°€ ì™¸ë¶€ ì¸í„°ë„·ì— ìˆê±°ë‚˜, VPC ì—”ë“œí¬ì¸íŠ¸/NAT ê²Œì´íŠ¸ì›¨ì´ë¥¼ í†µí•´ ì ‘ê·¼ ê°€ëŠ¥í•´ì•¼ í•©ë‹ˆë‹¤. ì¦‰, **ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì´ í•„ìˆ˜**.
  * RDSê°€ Lambdaë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆë„ë¡ **IAM ê¶Œí•œ**ë„ í•„ìš”í•©ë‹ˆë‹¤.

---

### 2ï¸âƒ£ RDS ì´ë²¤íŠ¸ ì•Œë¦¼ê³¼ Lambda í˜¸ì¶œì˜ ì°¨ì´

* **RDS ì´ë²¤íŠ¸ ì•Œë¦¼**

  * ë°ì´í„°ë² ì´ìŠ¤ ìì²´ì˜ ìƒíƒœ ë³€í™”ë¥¼ ì•Œë ¤ì¤Œ.
    ì˜ˆ: DB ìƒì„±, ì‹œì‘, ìŠ¤ëƒ…ìƒ· ìƒì„± ë“±
  * ë°ì´í„° ìì²´(í…Œì´ë¸” ì•ˆì˜ INSERT, UPDATE ë“±)ëŠ” ì•Œ ìˆ˜ ì—†ìŒ.
  * ì´ë²¤íŠ¸ ì•Œë¦¼ì€ SNSë‚˜ EventBridgeë¡œ ë°›ì•„ì„œ Lambdaë‚˜ SQS ë“±ìœ¼ë¡œ ì „ë‹¬ ê°€ëŠ¥.

* **Lambda ì§ì ‘ í˜¸ì¶œ**

  * ì‹¤ì œ **ë°ì´í„° ë³€í™” ì´ë²¤íŠ¸**ì— ë°˜ì‘í•¨.
    ì˜ˆ: í…Œì´ë¸”ì— ìƒˆ ë°ì´í„°ê°€ ë“¤ì–´ì™”ì„ ë•Œ ì´ë©”ì¼ ì „ì†¡
  * ì´ë²¤íŠ¸ ì•Œë¦¼ê³¼ëŠ” ì „í˜€ ë‹¤ë¥¸ ê¸°ëŠ¥ì„.

---

### 3ï¸âƒ£ í•µì‹¬ ìš”ì•½

1. PostgreSQL RDSì™€ Aurora MySQLì€ ë°ì´í„° ì´ë²¤íŠ¸ ë°œìƒ ì‹œ Lambdaë¥¼ ì§ì ‘ í˜¸ì¶œ ê°€ëŠ¥.
2. ì„¤ì •ì€ ë°ì´í„°ë² ì´ìŠ¤ ì•ˆì—ì„œ í•´ì•¼ í•˜ê³ , ë„¤íŠ¸ì›Œí¬ ì—°ê²°ê³¼ IAM ê¶Œí•œì´ í•„ìˆ˜.
3. RDS ì´ë²¤íŠ¸ ì•Œë¦¼ì€ ë°ì´í„°ë² ì´ìŠ¤ ìƒíƒœë¥¼ ì•Œë ¤ì£¼ì§€ë§Œ, ë°ì´í„° ìì²´ ë³€ê²½ì€ ì•Œë ¤ì£¼ì§€ ì•ŠìŒ.
4. ë°ì´í„° ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•˜ê³  ì‹¶ìœ¼ë©´ **Lambda ì§ì ‘ í˜¸ì¶œ ë°©ì‹**ì„ ì‚¬ìš©í•´ì•¼ í•¨.

---

# RDS - Invoking Lambda & Event Notifications
**RDS - Lambda í˜¸ì¶œ ë° ì´ë²¤íŠ¸ ì•Œë¦¼**

---

## Integration Between RDS, Aurora, and Lambda
**RDS, Aurora, Lambda ê°„ í†µí•©**

There is a tight integration that allows invoking Lambda functions directly from your database instance in some cases.
ì¼ë¶€ ê²½ìš°ì—ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ì—ì„œ Lambda í•¨ìˆ˜ë¥¼ ì§ì ‘ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” ê°•ë ¥í•œ í†µí•© ê¸°ëŠ¥ì´ ìˆë‹¤.
ğŸ‘‰ DB ë‚´ë¶€ ì´ë²¤íŠ¸ë¥¼ ì‹¤ì‹œê°„ ì²˜ë¦¬ ê°€ëŠ¥.

This capability enables processing data events occurring within your database.
ì´ ê¸°ëŠ¥ì€ ë°ì´í„°ë² ì´ìŠ¤ ë‚´ë¶€ì—ì„œ ë°œìƒí•˜ëŠ” ë°ì´í„° ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆê²Œ í•œë‹¤.
ğŸ‘‰ ì˜ˆ: ì‹ ê·œ ë°ì´í„° ì‚½ì… ì‹œ ìë™ ì²˜ë¦¬.

This feature is supported, for example, by RDS for PostgreSQL and Aurora MySQL.
ì´ ê¸°ëŠ¥ì€ RDS for PostgreSQLê³¼ Aurora MySQLì—ì„œ ì§€ì›ëœë‹¤.
ğŸ‘‰ íŠ¹ì • ì—”ì§„ì—ì„œë§Œ ê°€ëŠ¥.

For instance, when a user inserts event data into your registration table, RDS can be configured to directly invoke your Lambda function.
ì˜ˆë¥¼ ë“¤ì–´, ì‚¬ìš©ìê°€ ë“±ë¡ í…Œì´ë¸”ì— ë°ì´í„°ë¥¼ ì‚½ì…í•˜ë©´, RDSê°€ ì§ì ‘ Lambda í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë„ë¡ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.
ğŸ‘‰ DB íŠ¸ë¦¬ê±°ì²˜ëŸ¼ ì‘ë™.

Your Lambda function may then send a welcome email to the user, which the user will receive.
Lambda í•¨ìˆ˜ëŠ” ì´í›„ ì‚¬ìš©ìì—ê²Œ í™˜ì˜ ì´ë©”ì¼ì„ ë°œì†¡í•  ìˆ˜ ìˆë‹¤.
ğŸ‘‰ ì´ë²¤íŠ¸ ê¸°ë°˜ ìë™í™” ê°€ëŠ¥.

This setup must be configured from within the database by connecting to it; it is not configured through the AWS console.
ì´ ì„¤ì •ì€ AWS ì½˜ì†”ì´ ì•„ë‹ˆë¼ ë°ì´í„°ë² ì´ìŠ¤ ë‚´ë¶€ì—ì„œ ì§ì ‘ ì—°ê²°í•´ êµ¬ì„±í•´ì•¼ í•œë‹¤.
ğŸ‘‰ DB ë‚´ë¶€ì—ì„œ SQL/ì„¤ì •ìœ¼ë¡œ ì„¸íŒ….

When configured, the RDS instance itself invokes your Lambda function.
êµ¬ì„±ì´ ì™„ë£Œë˜ë©´ RDS ì¸ìŠ¤í„´ìŠ¤ê°€ ì§ì ‘ Lambda í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤.
ğŸ‘‰ DBê°€ í˜¸ì¶œì ì—­í•  ìˆ˜í–‰.

Therefore, you must ensure that inbound traffic from the RDS database instance to the Lambda function is allowed.
ë”°ë¼ì„œ RDS ì¸ìŠ¤í„´ìŠ¤ì—ì„œ Lambda í•¨ìˆ˜ë¡œ ë“¤ì–´ì˜¤ëŠ” íŠ¸ë˜í”½ì´ í—ˆìš©ë˜ì–´ì•¼ í•œë‹¤.
ğŸ‘‰ ë„¤íŠ¸ì›Œí¬ ì ‘ê·¼ ê¶Œí•œ í•„ìš”.

This can be achieved through various means such as having your Lambda function on the public internet, using an Invoke endpoint, a NAT gateway, or VPC endpoints.
ì´ë¥¼ ìœ„í•´ Lambdaë¥¼ í¼ë¸”ë¦­ ì¸í„°ë„·ì— ë‘ê±°ë‚˜, Invoke ì—”ë“œí¬ì¸íŠ¸, NAT ê²Œì´íŠ¸ì›¨ì´, VPC ì—”ë“œí¬ì¸íŠ¸ ë“±ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
ğŸ‘‰ ë„¤íŠ¸ì›Œí¬ ì—°ê²° ë°©ì‹ ë‹¤ì–‘.

Network connectivity is crucial.
ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì€ í•„ìˆ˜ì ì´ë‹¤.
ğŸ‘‰ ì—°ê²° ì•ˆ ë˜ë©´ Lambda í˜¸ì¶œ ë¶ˆê°€.

Additionally, because your RDS database instance invokes your Lambda function, it must have the required permissions to do so.
ë˜í•œ RDS ì¸ìŠ¤í„´ìŠ¤ê°€ Lambdaë¥¼ í˜¸ì¶œí•˜ê¸° ìœ„í•´ì„œëŠ” í•„ìš”í•œ ê¶Œí•œì„ ê°€ì ¸ì•¼ í•œë‹¤.
ğŸ‘‰ IAM ì •ì±…ì´ í•µì‹¬.

You must ensure that your database instance has a proper IAM policy allowing Lambda invocation.
DB ì¸ìŠ¤í„´ìŠ¤ì— Lambda í˜¸ì¶œì„ í—ˆìš©í•˜ëŠ” ì˜¬ë°”ë¥¸ IAM ì •ì±…ì´ ìˆì–´ì•¼ í•œë‹¤.
ğŸ‘‰ IAM ì •ì±… ì„¤ì • í•„ìˆ˜.

---

## RDS Event Notifications vs. Lambda Invocation

**RDS ì´ë²¤íŠ¸ ì•Œë¦¼ vs Lambda í˜¸ì¶œ**

This Lambda invocation capability is completely different from using RDS event notifications.
Lambda í˜¸ì¶œ ê¸°ëŠ¥ì€ RDS ì´ë²¤íŠ¸ ì•Œë¦¼ê³¼ëŠ” ì™„ì „íˆ ë‹¤ë¥´ë‹¤.
ğŸ‘‰ ë‘˜ì„ í˜¼ë™í•˜ì§€ ë§ ê²ƒ.

RDS event notifications occur within AWS and provide information about the database instance itself, such as when it was created or started.
RDS ì´ë²¤íŠ¸ ì•Œë¦¼ì€ AWS ë‚´ë¶€ì—ì„œ ë°œìƒí•˜ë©°, DB ì¸ìŠ¤í„´ìŠ¤ì˜ ìƒì„±, ì‹œì‘ ê°™ì€ ì¸ìŠ¤í„´ìŠ¤ ìˆ˜ì¤€ ì •ë³´ë¥¼ ì œê³µí•œë‹¤.
ğŸ‘‰ DB ìƒíƒœ ëª¨ë‹ˆí„°ë§ìš©.

However, these notifications do not provide any information about the data events happening within your database.
í•˜ì§€ë§Œ ì´ëŸ¬í•œ ì•Œë¦¼ì€ DB ë‚´ë¶€ì—ì„œ ë°œìƒí•˜ëŠ” ë°ì´í„° ì´ë²¤íŠ¸ ì •ë³´ë¥¼ ì œê³µí•˜ì§€ ì•ŠëŠ”ë‹¤.
ğŸ‘‰ ë°ì´í„° ë³€í™” ê°ì§€ëŠ” ë¶ˆê°€.

It is important not to confuse these two functionalities.
ì´ ë‘ ê¸°ëŠ¥ì„ í˜¼ë™í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.
ğŸ‘‰ Lambda í˜¸ì¶œ = ë°ì´í„° ì´ë²¤íŠ¸, ì•Œë¦¼ = ì¸ìŠ¤í„´ìŠ¤ ì´ë²¤íŠ¸.

You can subscribe to events related to your database instance, database snapshots, parameter groups, security groups, proxies, or custom engine versions.
DB ì¸ìŠ¤í„´ìŠ¤, ìŠ¤ëƒ…ìƒ·, íŒŒë¼ë¯¸í„° ê·¸ë£¹, ë³´ì•ˆ ê·¸ë£¹, í”„ë¡ì‹œ, ì»¤ìŠ¤í…€ ì—”ì§„ ë²„ì „ ë“±ê³¼ ê´€ë ¨ëœ ì´ë²¤íŠ¸ë¥¼ êµ¬ë…í•  ìˆ˜ ìˆë‹¤.
ğŸ‘‰ ëª¨ë‹ˆí„°ë§ ë²”ìœ„ëŠ” ë„“ìŒ.

These events are delivered in near real-time, with up to five minutes of delay.
ì´ ì´ë²¤íŠ¸ë“¤ì€ ê±°ì˜ ì‹¤ì‹œê°„ìœ¼ë¡œ ì „ë‹¬ë˜ì§€ë§Œ ìµœëŒ€ 5ë¶„ì˜ ì§€ì—°ì´ ìˆì„ ìˆ˜ ìˆë‹¤.
ğŸ‘‰ ì¦‰ê°ì ì´ì§€ ì•Šì„ ìˆ˜ ìˆìŒ.

These event notifications can be sent to SNS, or intercepted in EventBridge.
ì´ ì´ë²¤íŠ¸ ì•Œë¦¼ì€ SNSë¡œ ì „ì†¡ë˜ê±°ë‚˜ EventBridgeì—ì„œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.
ğŸ‘‰ ì´ë²¤íŠ¸ ë¼ìš°íŒ… ê°€ëŠ¥.

From SNS, for example, you can forward them to an SQS queue or a Lambda function.
ì˜ˆë¥¼ ë“¤ì–´ SNSì—ì„œ SQS íë‚˜ Lambda í•¨ìˆ˜ë¡œ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤.
ğŸ‘‰ ì´ë²¤íŠ¸ íë¦„ í™•ì¥ ê°€ëŠ¥.

EventBridge supports many destinations, including Lambda functions.
EventBridgeëŠ” Lambda í•¨ìˆ˜ë¥¼ í¬í•¨í•œ ë‹¤ì–‘í•œ ëª©ì ì§€ë¥¼ ì§€ì›í•œë‹¤.
ğŸ‘‰ í†µí•©ì„±ì´ ë›°ì–´ë‚¨.

Remember, however, that these event notifications do not provide information about data events themselves.
í•˜ì§€ë§Œ ì´ë²¤íŠ¸ ì•Œë¦¼ì€ ë°ì´í„° ì´ë²¤íŠ¸ ìì²´ ì •ë³´ë¥¼ ì œê³µí•˜ì§€ ì•ŠëŠ”ë‹¤.
ğŸ‘‰ ë°ì´í„° ë³€í™” íƒì§€ëŠ” ë¶ˆê°€.

To capture data-level events, you must use the Lambda invocation methodology described earlier.
ë°ì´í„° ë ˆë²¨ ì´ë²¤íŠ¸ë¥¼ ìº¡ì²˜í•˜ë ¤ë©´ ì•ì„œ ì„¤ëª…í•œ Lambda í˜¸ì¶œ ë°©ì‹ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤.
ğŸ‘‰ DB íŠ¸ë¦¬ê±° = Lambda í˜¸ì¶œ, ì•Œë¦¼ = ì¸ìŠ¤í„´ìŠ¤ ìƒíƒœ.

---

## Conclusion

**ê²°ë¡ **

This concludes the lecture on invoking Lambda and event notifications with RDS.
ì´ê²ƒìœ¼ë¡œ RDSì˜ Lambda í˜¸ì¶œ ë° ì´ë²¤íŠ¸ ì•Œë¦¼ ê°•ì˜ë¥¼ ë§ˆì¹œë‹¤.
ğŸ‘‰ í•µì‹¬: ì´ë²¤íŠ¸ ì•Œë¦¼ê³¼ Lambda í˜¸ì¶œì€ ë³„ê°œ.

I hope you found it informative, and I look forward to seeing you in the next lecture.
ìœ ìµí–ˆê¸°ë¥¼ ë°”ë¼ë©°, ë‹¤ìŒ ê°•ì˜ì—ì„œ ë³´ì.
ğŸ‘‰ í•™ìŠµ ì™„ë£Œ!

---

## Key Takeaways

**í•µì‹¬ ìš”ì•½**

* RDS for PostgreSQL and Aurora MySQL support invoking Lambda functions directly from database instances to process data events.
  PostgreSQL RDSì™€ Aurora MySQLì€ DB ì¸ìŠ¤í„´ìŠ¤ì—ì„œ Lambdaë¥¼ ì§ì ‘ í˜¸ì¶œí•´ ë°ì´í„° ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.

* Setting up Lambda invocation from RDS requires configuration within the database, not the AWS console.
  RDSì—ì„œ Lambda í˜¸ì¶œì„ ì„¤ì •í•˜ë ¤ë©´ AWS ì½˜ì†”ì´ ì•„ë‹ˆë¼ DB ë‚´ë¶€ì—ì„œ êµ¬ì„±í•´ì•¼ í•œë‹¤.

* Proper network connectivity and IAM permissions are essential for RDS instances to invoke Lambda functions.
  RDSê°€ Lambdaë¥¼ í˜¸ì¶œí•˜ë ¤ë©´ ì˜¬ë°”ë¥¸ ë„¤íŠ¸ì›Œí¬ ì—°ê²°ê³¼ IAM ê¶Œí•œì´ í•„ìš”í•˜ë‹¤.

* RDS event notifications provide information about database instance events but do not include data-level events within the database.
  RDS ì´ë²¤íŠ¸ ì•Œë¦¼ì€ DB ì¸ìŠ¤í„´ìŠ¤ ì´ë²¤íŠ¸ ì •ë³´ë§Œ ì œê³µí•˜ë©° ë°ì´í„° ì´ë²¤íŠ¸ëŠ” í¬í•¨í•˜ì§€ ì•ŠëŠ”ë‹¤.

---

ğŸ‰ **ê²Œì„ ë³´ìƒ**

* +150 XP íšë“!
* ğŸ… ìƒˆë¡œìš´ ì¹­í˜¸: **"RDS Event Tactician"**
* ğŸ ë³´ë„ˆìŠ¤: **ëœë¤ ë“œë - ê³¨ë“œ ì½”ì¸ 20ê°œ**
